<div class="container mt-4">
    <h2>{{ isEditMode ? 'Edit' : 'Create' }} Appointment</h2>
    <form (ngSubmit)="onSubmit()">
      <div class="row mb-3">
        <div class="col">
          <label>Doctor</label>
          <select class="form-control" [(ngModel)]="appointment.doctorId" name="doctorId" required>
            <option *ngFor="let doctor of doctors" [value]="doctor.id">{{ doctor.name }}</option>
          </select>
        </div>
        <div class="col">
          <label>Patient</label>
          <select class="form-control" [(ngModel)]="appointment.patientId" name="patientId" required>
            <option *ngFor="let patient of patients" [value]="patient.id">{{ patient.name }}</option>
          </select>
        </div>
      </div>
  
      <div class="mb-3">
        <label>Purpose</label>
        <input type="text" class="form-control" [(ngModel)]="appointment.purpose" name="purpose" required />
      </div>
  
      <div class="mb-3">
        <label>Date</label>
        <input type="date" class="form-control" [(ngModel)]="appointment.date" name="date" required />
      </div>
  
      <button class="btn btn-primary" type="submit">{{ isEditMode ? 'Update' : 'Create' }}</button>
      <button class="btn btn-secondary ms-2" type="button" (click)="resetForm()">Reset</button>
    </form>
  
    <hr />
  
    <h3>Appointments</h3>
    <table class="table table-bordered">
      <thead>
        <tr>
          <th>Doctor ID</th>
          <th>Patient ID</th>
          <th>Purpose</th>
          <th>Date</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let appt of appointments">
            <td>{{ getDoctorName(appt.doctorId) }}</td>
            <td>{{ getPatientName(appt.patientId) }}</td>
            <td>{{ appt.purpose }}</td>
            <td>{{ appt.date | date: 'yyyy-MM-dd' }}</td>
            <td>
            <button class="btn btn-sm btn-info" (click)="editAppointment(appt)">Edit</button>
            <button class="btn btn-sm btn-danger ms-1" (click)="deleteAppointment(appt.id)">Delete</button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
  